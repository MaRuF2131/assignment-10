import{a as g,b as y,u as N,r as u,j as e}from"./index-9JvSthaT.js";import{S as m}from"./sweetalert2.esm.all-DWO__QVt.js";import{f}from"./dateformate-DsN9-pZW.js";const j=["Drawing & Painting","Photography","Video Gaming","Fishing","Running","Cooking","Reading","Writing"],v=()=>{const d=g(),c=y(),{user:n}=N(),[p,i]=u.useState(!1);u.useEffect(()=>{document.title="UpdateGroup - HobbyHub"},[]);const[r,b]=u.useState({groupName:"",hobbyCategory:"",description:"",location:"",maxMembers:"",startDate:"",imageUrl:""});u.useEffect(()=>{var s;try{const a=((s=c==null?void 0:c.state)==null?void 0:s.massage)??null,l=n.displayName===a.userName?n.displayName:null,t=n.email===a.userEmail?n.email:null;if(!t||!l)i("You do not Author such a group.");else if(a){const h=f(a.startDate);b({groupId:a._id,groupName:a.groupName,hobbyCategory:a.hobbyCategory,description:a.description,location:a.location,maxMembers:a.maxMembers,startDate:h,imageUrl:a.imageUrl,userName:l,userEmail:t}),i(!1)}else i("You do not have such a group.")}catch{i("You do not have such a group.")}},[c,n]);const o=s=>{const{name:a,value:l}=s.target;b(t=>({...t,[a]:l}))},x=async s=>{s.preventDefault();try{m.fire({title:"Are you sure?",text:"This will permanently update the group!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, update it!"}).then(async a=>{if(a.isConfirmed){const l=await fetch("https://express-server-for-practice.vercel.app/updategroup",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(l.ok)m.fire({icon:"success",title:"Group Created!",text:`Your ${r.groupName} group has been successfully created.`}).then(t=>{t.isConfirmed&&d("/My Groups")});else{const t=await l.json();m.fire("Error",t.message||"Update failed","error")}}})}catch(a){console.error("Error saving group:",a)}};return p?e.jsxs("div",{children:[e.jsx("p",{className:"text-center text-2xl p-4 text-white",children:p}),e.jsx("div",{className:"w-full inline-flex items-center justify-center",children:e.jsx("p",{onClick:()=>d("/My Groups"),className:"w-25 px-1 py-2 text-center rounded-md bg-blue-900 text-xl cursor-pointer text-white",children:"Go Back"})})]}):e.jsxs("div",{className:"max-w-3xl mx-auto w-full p-6 bg-white/10 backdrop-blur-md rounded-2xl shadow-xl border border-white/20 text-gray-100 space-y-5",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-300",children:["Update ",r.groupName," Group"]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Group Name"}),e.jsx("input",{type:"text",name:"groupName",value:r.groupName,onChange:o,className:"w-full border p-2 rounded",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Hobby Category"}),e.jsxs("select",{name:"hobbyCategory",value:r.hobbyCategory,onChange:o,className:"w-full border p-2 rounded bg-gray-800 ",required:!0,children:[e.jsx("option",{value:"",children:"Select Hobby Category"}),j.map((s,a)=>e.jsx("option",{value:s,children:s},a))]})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:r.description,onChange:o,className:"w-full border p-2 rounded",rows:"4",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Meeting Location"}),e.jsx("input",{type:"text",name:"location",value:r.location,onChange:o,className:"w-full border p-2 rounded",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Max Members"}),e.jsx("input",{type:"number",name:"maxMembers",min:0,value:r.maxMembers,onChange:o,className:"w-full border p-2 rounded",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Start Date"}),e.jsx("input",{type:"date",name:"startDate",value:r.startDate,onChange:o,className:"w-full border p-2 rounded",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Image URL"}),e.jsx("input",{type:"url",name:"imageUrl",value:r.imageUrl,onChange:o,className:"w-full border p-2 rounded",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Your Name"}),e.jsx("input",{type:"text",value:r.userName,readOnly:!0,className:"w-full border p-2 rounded bg-gray-100 text-gray-500"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1",children:"Your Email"}),e.jsx("input",{type:"email",value:r.userEmail,readOnly:!0,className:"w-full border p-2 rounded bg-gray-100 text-gray-500"})]}),e.jsx("button",{onClick:x,type:"submit",className:"w-full cursor-pointer bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Update"})]})]})};export{v as default};
