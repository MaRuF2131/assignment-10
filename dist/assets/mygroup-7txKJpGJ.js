import{r as o,u as f,a as j,j as e}from"./index-9JvSthaT.js";import{S as c}from"./sweetalert2.esm.all-DWO__QVt.js";import{f as g}from"./dateformate-DsN9-pZW.js";const v=()=>{const[l,n]=o.useState([]),[x,i]=o.useState(!0),{user:s}=f(),h=j();o.useEffect(()=>{document.title="My Group - HobbyHub"},[]),o.useEffect(()=>{(async()=>{try{const a=await(await fetch(`https://express-server-for-practice.vercel.app/mygroups?email=${s==null?void 0:s.email}`)).json();n(a),i(!1)}catch(r){console.error("Error fetching groups:",r),i(!1)}})()},[s]);const p=t=>{c.fire({title:"Are you sure?",text:"This will permanently delete the group!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async r=>{if(r.isConfirmed)try{const d=await(await fetch(`https://express-server-for-practice.vercel.app/deletegroups/${t}`,{method:"DELETE"})).json();d.deletedCount>0?(n(u=>u.filter(y=>y._id!==t)),c.fire("Deleted!","Your group has been deleted.","success")):console.log(d)}catch(a){console.error("Error deleting group:",a),c.fire("Error","Something went wrong!","error")}})},m=t=>{h(`/updategroup/${t._id}`,{state:{massage:t}})};return x?e.jsx("div",{className:"text-center text-white",children:"Loading..."}):e.jsxs("div",{className:"max-w-6xl mx-auto p-4 text-white",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"My Hobby Groups"}),l.length===0?e.jsx("p",{className:"text-center",children:"You havenâ€™t created any groups yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-gray-200 rounded overflow-hidden shadow-lg",children:[e.jsx("thead",{className:"bg-blue-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4",children:"Image"}),e.jsx("th",{className:"py-2 px-4",children:"Group Name"}),e.jsx("th",{className:"py-2 px-4",children:"Category"}),e.jsx("th",{className:"py-2 px-4",children:"Location"}),e.jsx("th",{className:"py-2 px-4",children:"Start Date"}),e.jsx("th",{className:"py-2 px-4",children:"Max Members"}),e.jsx("th",{className:"py-2 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{className:"border-t text-center  bg-white/10 backdrop-blur-md rounded-md shadow-xl  hover:bg-gray-800",children:[e.jsx("td",{className:"",children:e.jsx("img",{className:"w-full min-h-16 max-h-20",src:t.imageUrl,alt:""})}),e.jsx("td",{className:"py-2 px-4",children:t.groupName}),e.jsx("td",{className:"py-2 px-4",children:t.hobbyCategory}),e.jsx("td",{className:"py-2 px-4",children:t.location}),e.jsx("td",{className:"py-2 px-4",children:g(t.startDate)}),e.jsx("td",{className:"py-2 px-4",children:t.maxMembers}),e.jsxs("td",{className:"py-2 px-4 space-y-2 space-x-2 text-center",children:[e.jsx("button",{onClick:()=>m(t),className:"bg-yellow-500 w-20 cursor-pointer hover:bg-yellow-600 text-white px-3 py-1 rounded",children:"Update"}),e.jsx("button",{onClick:()=>p(t._id),className:"bg-red-600 w-20 cursor-pointer hover:bg-red-700 text-white px-3 py-1 rounded",children:"Delete"})]})]},t._id))})]})})]})};export{v as default};
